<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Page 1</title>
</head>
<body>
	<h1>Page 1</h1>
	<a href="page2.html">Page 2</a>
	<h2>Events triggered:</h2>
	<div id="out"></div>
	
	<script>
		(function(win, doc){
      			var out = doc.getElementById("out"),
			eventAlert = function(e) {
				win.alert(doc.title + ": " e.type);
			},

			winEvents = [
				"load",
				// "unload",
				"pageshow",
				"pagehide",
			],

			docEvents = [
				"DOMContentLoaded"
			];
			
			winEvents.forEach(
				function(item) {
					win.addEventListener(item, eventAlert, false);
				}
			);

			docEvents.forEach(
				function(item) {
					doc.addEventListener(item, eventAlert, false);
				}
			);
		}(window, document));
	</script>
</body>
</html>
